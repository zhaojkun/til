# MakeFile函数及命令

### 函数

* `$(shell command)`：shell 函数的参数会被扩展并传递给subshell来执行。然后make会读取command的标准输出，并将之返回作为函数的值。输出中所出现的一系列换行符号会被缩减成单一空格符号，任何接在后边的换行符号会被删除，标准错误以及任何程序的结束状态都不会被返回。

### 命令

make命令实质上事一个单行shell脚本。实际上，make会获取每行命令并将它传递给subshell去执行。

在工作目标之后，凡是第一个字符为跳格符（tab）的文本行一律会被视为命令（除非前一行的结尾是一个反斜线符号）。

解析器所看的的命令位于合法的语境时，它会切换到"命令解析"模式，以一次一行的方式建立脚本。当解析器所遇到的文本航不呢坑成为命令脚本的一部分时，它就会停止追加脚本的动作。此处就代表脚本的结尾。

一个命令可以通过若干前缀加以修饰，可用的前缀修饰符如下：



| 前缀符  | 作用                                       |
| ---- | ---------------------------------------- |
| @    | 不要输出命令                                   |
| -    | 指示make应该忽略命令中的错误。                        |
| +    | 用来要求make执行命令，就算用户是以`---just-print`命令行选项来执行make的，也会执行相应命令。 |

make每执行一个命令就会返回一个状态码。值为零的状态码代表命令执行成功，值为非零的状态码代表发生了某种错误。

命令脚本的处理过程历经四个步骤：读取程序代码、扩展变量、对make表达式求值以及执行命令。
